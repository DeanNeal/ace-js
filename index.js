/*!
 * AceJs 1.0.6
 * May be freely distributed under the MIT license 
 * Author: Bogdan Zinkevich
 * Last update: 2017-9-8 22:48:41
 * 
 */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("index",[],t):"object"==typeof exports?exports.index=t():e.index=t()}(this,function(){return function(e){function __webpack_require__(r){if(t[r])return t[r].exports;var n=t[r]={exports:{},id:r,loaded:!1};return e[r].call(n.exports,n,n.exports,__webpack_require__),n.loaded=!0,n.exports}var t={};return __webpack_require__.m=e,__webpack_require__.c=t,__webpack_require__.p="",__webpack_require__(0)}([function(e,t,r){e.exports=r(1)},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Store=t.Http=t.Utils=t.GlobalEvents=t.TemplateEngine=t.RouteSwitcher=t.Router=t.Component=t.Register=t.GlobalData=t.SmartObject=void 0;var n=r(2),o=r(3),i=r(6),a=r(4),s=r(5),l=_interopRequireDefault(s),u=r(25),c=r(26),f=_interopRequireDefault(c),h=r(27),d=r(28),p=r(29),v=new n.SmartObject;t.SmartObject=n.SmartObject,t.GlobalData=v,t.Register=o.Register,t.Component=i.Component,t.Router=l.default,t.RouteSwitcher=a.RouteSwitcher,t.TemplateEngine=u.TemplateEngine,t.GlobalEvents=f.default,t.Utils=h.Utils,t.Http=d.Http,t.Store=p.Store},function(e,t){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}();t.SmartObject=function(){function SmartObject(e){_classCallCheck(this,SmartObject),this._data=e||{},this.lId=-1,e&&this.defineProperties(e),this.callbacksArray=[]}return n(SmartObject,[{key:"defineProperties",value:function(e){var t=this;Object.keys(e).forEach(function(r){t.defineProperty(r,e[r])})}},{key:"defineProperty",value:function(e,t){var r=this;Object.defineProperty(this,e,{set:function(t){return r.set(e,t)},get:function(){return r.get(e)},configurable:!0})}},{key:"sub",value:function(e){var t=this;this.callbacksArray.push({f:e,id:++this.lId}),Object.keys(this._data).length&&e.call(this,this._data);var r=Number(this.lId);return{unsubscribe:function(){t.unsubscribe(r)}}}},{key:"unsubscribe",value:function(e){this.callbacksArray=this.callbacksArray.filter(function(t){return t.id!==e})}},{key:"reset",value:function(e){this._data=e,this.defineProperties(e),this._callAll()}},{key:"set",value:function(e,t){if("object"==("undefined"==typeof e?"undefined":r(e)))if(e.length||0===e.length)this._data=e;else{for(var n in e)this._data[n]=e[n];this.defineProperties(e)}else this.defineProperty(e,t),this._data[e]=t;this._callAll()}},{key:"get",value:function(e){return this._data[e]}},{key:"_callAll",value:function(){var e=this;this.callbacksArray.forEach(function(t){e._data&&t.f.call(e,e._data)})}},{key:"add",value:function(e,t){"object"===("undefined"==typeof e?"undefined":r(e))?this._data.push(e):this[e].push(t),this._callAll()}},{key:"save",value:function(e){var t=this._data.map(function(t){return t.id===e.id&&(t=e),t});this.set(t)}},{key:"remove",value:function(e){this._data=this._data.filter(function(t){return t.id!=e}),this._callAll()}}]),SmartObject}()},function(e,t,r){"use strict";function Register(e){e.routes?new o.RegisterRouteElement(e.routes):console.warn("You should set routes!"),e.styles&&loadStyle(e.styles),e.components.forEach(function(e){registerComponent(e)}),e.modules.forEach(function(e){e.forEach(function(e){registerComponent(e)})}),n.GlobalData.set("appIsReady",!0)}function registerComponent(e){e.c instanceof n.Component.constructor?RegisterElement(e):console.warn("Wrong type of component")}function RegisterElement(e){var t=Object.create(HTMLElement.prototype),r=void 0;t.createdCallback=function(t){for(var n={},o=0;o<this.attributes.length;o++)n[this.attributes[o].nodeName]=this.attributes[o].nodeValue;var i=window.temporaryObj||{};delete window.temporaryObj,r=new e.c({ce:this,attrs:n,props:i}),this.COMPONENT=r},t.detachedCallback=function(){n.Component.destroy.call(this.COMPONENT)},t.attachedCallback=function(){r.onAttach()},t.attributeChangedCallback=function(e,t,r){},document.registerElement(e.selector,{prototype:t})}function loadStyle(e){if(e){var t=e.toString(),r=document.createElement("style");r.type="text/css",r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t)),document.head.append(r)}}Object.defineProperty(t,"__esModule",{value:!0}),t.Register=Register,t.RegisterElement=RegisterElement;var n=r(1),o=r(4)},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function RegisterRouteElement(e){var t=Object.create(HTMLElement.prototype),r=void 0;t.createdCallback=function(t){r=new s(e,this)},t.detachedCallback=function(){},t.attachedCallback=function(){},t.attributeChangedCallback=function(e,t,r){},document.registerElement("route-switcher",{prototype:t})}Object.defineProperty(t,"__esModule",{value:!0}),t.RouteSwitcher=void 0;var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}();t.RegisterRouteElement=RegisterRouteElement;var o=r(5),i=_interopRequireDefault(o),a=r(1),s=t.RouteSwitcher=function(){function RouteSwitcher(e,t){var r=this;_classCallCheck(this,RouteSwitcher),this.routes=e,this.root=t,a.GlobalData.sub(function(e){r.onCreate()})}return n(RouteSwitcher,[{key:"onCreate",value:function(){var e=this;this.routes.forEach(function(t){i.default.on(t.path,function(r){if(e.prevPage!==t.path){e.root.innerHTML=null,r&&(window.temporaryObj=Object.assign({id:parseInt(r)}));var n=document.createElement(t.component);e.root.appendChild(n),e.prevPage=t.path}var o=e.root.querySelectorAll("child-route-switcher")[0];if(o){o.innerHTML=null;var a=e.routes.filter(function(e){return e.path===t.path})[0],s=i.default.getCurrentFullPath()[1],l=s?a.children.filter(function(e){return e.path===s})[0]:a.children.filter(function(e){return""===e.path||"/"===e.path})[0];if(e.prevChild!==s||!e.prevChild){if(l){var u=document.createElement(l.component);o.appendChild(u)}else{var c=document.createElement("div");c.innerHTML='Please specify a component for this route <b style="color: red">'+i.default.getCurrentFullPath().join("/")+"</b>!",o.appendChild(c)}e.prevChild=s}}},t.children)}),i.default.update()}}]),RouteSwitcher}()},function(e,t){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),n=function(){function Router(){var e=this;_classCallCheck(this,Router),this.routes=[],this.subscribtions=[],this._id=-1,this.prevPath=null,window.addEventListener("popstate",function(t){if(self.state&&null===self.state.previousState)return!1;var r=e.getCurrentRoute(e.getCurrentPath());r&&(r.callback(),e.runSubscribtions(),e.prevPath=r.path,console.log(e.subscribtions))})}return r(Router,[{key:"getCurrentPath",value:function(){return location.pathname.split("/").filter(function(e){return e})[0]||"/"}},{key:"getCurrentFullPath",value:function(){return location.pathname.split("/").filter(function(e){return e})||"/"}},{key:"getCurrentRoute",value:function(e){var t=this.routes.filter(function(t){var r=e.split("/"),n=t.path.split("/");return r[1]&&r[0]===n[0]?(t.params=r[1],t.newPath=e,!0):(t.newPath=t.path,e===t.path)})[0],r=this.routes.filter(function(e){return"404"===e.path})[0];return t||r}},{key:"getRouterState",value:function(){var e=location.pathname.split("/").filter(function(e){return e});return{stage:e[0],params:e[1]}}},{key:"on",value:function(e,t){this.routes.push({path:e,callback:t})}},{key:"update",value:function(){this.navigate(location.pathname.substr(1)||"/",!0)}},{key:"navigate",value:function(e,t){var r=this.getCurrentRoute(e);r&&this.prevPath!==e&&(t||this.path(r.newPath),r.callback.call(this,r.params),this.runSubscribtions()),this.prevPath=e}},{key:"path",value:function(e){if("string"==typeof e)return window.history.pushState({},null,e),this}},{key:"runSubscribtions",value:function(){var e=this;this.subscribtions.forEach(function(t){t.fn.call(e,e.getCurrentPath(),e.getCurrentFullPath())})}},{key:"onChange",value:function(e){var t=this;this._id++,this.subscribtions.push({fn:e,id:this._id});var r=Number(this._id);return{unsubscribe:function(){t.subscribtions=t.subscribtions.filter(function(e){return e.id!==r})}}}}]),Router}();t.default=new n},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.Component=void 0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),i=r(1),a=r(7),s=_interopRequireDefault(a),l=r(8);t.Component=function(){function Component(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_classCallCheck(this,Component),this.tpl=r.template||"Empty template",this.shadow=r.shadow||!1,this.type=r.type,this.props=new i.SmartObject(t.props),this.root=null,Component.setPrivates.call(this,r),this.ui={},t.ce.getAttribute("frameworkFor")||(t.ce?Component.render.call(this,t.ce):console.warn("Component data is expected. See your component constructor!"),this.props.sub(function(t){l.Handlers._for.call(e,s.default._forArrays.get(e)),l.Handlers._props.call(e,s.default._modelArrays.get(e)),l.Handlers._input.call(e,s.default._inputArrays.get(e)),l.Handlers._props.call(e,s.default._valueArrays.get(e)),l.Handlers._style.call(e,s.default._styleArrays.get(e)),l.Handlers._if.call(e,s.default._ifArrays.get(e)),l.Handlers._class.call(e,s.default._classArrays.get(e)),l.Handlers._attr.call(e,s.default._attrArrays.get(e)),l.Handlers._hostClasses.call(e,s.default._hostClasses.get(e)),l.Handlers._hostStyles.call(e,s.default._hostStyles.get(e)),e.onUpdate()}))}return o(Component,[{key:"setSubscriptions",value:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];s.default._subscriptions.set(this,t)}},{key:"INPUT",value:function(){}},{key:"emit",value:function(e,t,r){var n=new CustomEvent(e,{detail:t,bubbles:!0,cancelable:!1});r?this.getParentComponent(r).dispatchEvent(n):this.root.dispatchEvent(n)}},{key:"onCreate",value:function(){}},{key:"onUpdate",value:function(){}},{key:"onDestroy",value:function(){}},{key:"onInit",value:function(){}},{key:"onAttach",value:function(){}},{key:"getElement",value:function(e){return this.root.querySelectorAll(e)}},{key:"getRoot",value:function(){return this.root}},{key:"getComponentVariable",value:function(e,t){return t&&"object"!==("undefined"==typeof t?"undefined":n(t))?t:e.reduce(function(e,t){return e[t]},t||this)}},{key:"getParentComponent",value:function(e){for(var t=this.root;t&&e!==t.constructor.name;)t=t.parentNode;return t}}],[{key:"setPrivates",value:function(e){s.default._subscriptions.set(this,[]),s.default._eventsArray.set(this,[]),s.default._forArrays.set(this,[]),s.default._styleArrays.set(this,[]),s.default._routeArrays.set(this,[]),s.default._valueArrays.set(this,[]),s.default._inputArrays.set(this,[]),s.default._modelArrays.set(this,[]),s.default._ifArrays.set(this,[]),s.default._classArrays.set(this,[]),s.default._refArrays.set(this,[]),s.default._attrArrays.set(this,[]),s.default._outsideArrays.set(this,[]),s.default._patternArrays.set(this,[]),s.default._globalEvents.set(this,null),s.default._hostEvents.set(this,e.hostEvents),s.default._hostClasses.set(this,e.hostClasses),s.default._hostStyles.set(this,e.hostStyles)}},{key:"render",value:function(e){var t=this;this.onCreate(),this.root=this.shadow?e.createShadowRoot():e,this.root.innerHTML=this.tpl,l.Handlers._init.call(this,this.root,"frameworkFor","_forArrays"),l.Handlers._init.call(this,this.root,"frameworkStyle","_styleArrays"),l.Handlers._init.call(this,this.root,"frameworkValue","_valueArrays"),l.Handlers._init.call(this,this.root,"frameworkInput","_inputArrays"),l.Handlers._init.call(this,this.root,"frameworkModel","_modelArrays"),l.Handlers._init.call(this,this.root,"frameworkIf","_ifArrays"),l.Handlers._init.call(this,this.root,"frameworkClass","_classArrays"),l.Handlers._init.call(this,this.root,"frameworkRef","_refArrays"),l.Handlers._init.call(this,this.root,"frameworkLink","_routeArrays"),l.Handlers._init.call(this,this.root,"frameworkAttr","_attrArrays"),l.Handlers._init.call(this,this.root,"frameworkOutside","_outsideArrays"),l.Handlers._init.call(this,this.root,"frameworkPattern","_patternArrays");var r=!0,n=!1,o=void 0;try{for(var a,u=this.getElement("[frameworkSubscribe]")[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var c=a.value,f=c.getAttribute("frameworkSubscribe");f=f.split(","),f.length&&f.forEach(function(e){e=e.replace(/ +/g,""),Component.on.call(t,e.split(":")[0],t[e.split(":")[1]])}),c.removeAttribute("frameworkSubscribe")}}catch(e){n=!0,o=e}finally{try{!r&&u.return&&u.return()}finally{if(n)throw o}}l.Handlers._model.call(this,s.default._modelArrays.get(this)),l.Handlers._outside.call(this,s.default._outsideArrays.get(this)),l.Handlers._pattern.call(this,s.default._patternArrays.get(this)),l.Handlers._elRef.call(this,s.default._refArrays.get(this)),l.Handlers.eventListeners.call(this,this.root),l.Handlers._hostEvents.call(this,s.default._hostEvents.get(this)),(s.default._routeArrays.get(this).length||s.default._forArrays.get(this).length)&&(this.routerSub=i.Router.onChange(function(){var e=t.root.querySelectorAll("[href]");e.forEach(function(e){var t=i.Router.getCurrentFullPath(),r=e.getAttribute("href"),n=r===t.join("/")||t[0]===r&&!e.getAttribute("frameworkLinkExact");n?e.classList.add("active"):e.classList.remove("active")})})),l.Handlers._link.call(this,s.default._routeArrays.get(this)),this.onInit()}},{key:"on",value:function(e,t){var r=this;this.root.addEventListener(e,function(e){e.stopPropagation(),t.call(r,e,e.detail)})}},{key:"destroy",value:function(){l.Handlers.removeEventListeners.call(this,s.default._eventsArray.get(this)),s.default._globalEvents.get(this)&&s.default._globalEvents.get(this).unsubscribe(),this.routerSub&&this.routerSub.unsubscribe(),s.default._subscriptions.get(this).forEach(function(e){return e.unsubscribe()}),this.onDestroy()}}]),Component}()},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={_subscriptions:new WeakMap,_hostEvents:new WeakMap,_hostClasses:new WeakMap,_hostStyles:new WeakMap,_eventsArray:new WeakMap,_forArrays:new WeakMap,_styleArrays:new WeakMap,_linksRefs:new WeakMap,_routeArrays:new WeakMap,_valueArrays:new WeakMap,_inputArrays:new WeakMap,_modelArrays:new WeakMap,_ifArrays:new WeakMap,_classArrays:new WeakMap,_refArrays:new WeakMap,_attrArrays:new WeakMap,_outsideArrays:new WeakMap,_patternArrays:new WeakMap,_globalEvents:new WeakMap};t.default=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Handlers=void 0;var n=r(9),o=r(10),i=r(11),a=r(12),s=r(13),l=r(14),u=r(15),c=r(17),f=r(18),h=r(19),d=r(20),p=r(21),v=r(23),y=r(16),m=r(24),_={_style:n._style,_props:o._props,_pattern:i._pattern,_if:a._if,_class:s._class,_elRef:l._elRef,_for:u._for,_model:c._model,_attr:f._attr,_input:h._input,_link:d._link,setActiveLink:d.setActiveLink,eventUnitCore:p.eventUnitCore,eventListeners:p.eventListeners,removeEventListeners:p.removeEventListeners,_outside:v._outside,_init:y._init,_hostEvents:m._hostEvents,_hostClasses:m._hostClasses,_hostStyles:m._hostStyles};t.Handlers=_},function(e,t){"use strict";function _style(e,t){var r=this;e.forEach(function(e){var n=e.attr.split(",");n.forEach(function(n){var o=!1,i=n.replace(/ +/g,"").split(":"),a=i[0];"-"===i[1][0]&&(i[1]=i[1].substr(1),o=!0);var s=i[1].split("."),l=r.getComponentVariable(s,t);l=o?"-"+l:l,l?e.elem.style[a]=l:e.elem.style[a]=""})})}Object.defineProperty(t,"__esModule",{value:!0}),t._style=_style},function(e,t,r){"use strict";function _props(e,t){var r=this;e.forEach(function(e){var o=e.attr.split("."),i=r.getComponentVariable(o,t);i=""===i?"":i,i=0===i?0:i,n.Utils.isCustomElement(e.elem)||("input"===e.elem.localName?("checkbox"===e.elem.type&&(i?e.elem.setAttribute("checked",!0):e.elem.removeAttribute("checked")),"radio"===e.elem.type&&(e.elem.value===i?e.elem.setAttribute("checked",!0):e.elem.removeAttribute("selected")),"text"===e.elem.type&&(e.elem.value=i)):e.elem.innerHTML=i)})}Object.defineProperty(t,"__esModule",{value:!0}),t._props=_props;var n=r(1)},function(e,t){"use strict";function _pattern(e){e.forEach(function(e){var t=e.attr.split(":"),r=new RegExp(t[0],"gi");e.elem.addEventListener("keyup",function(n){var o=n.target.value;o.match(r)?(e.elem.style.borderColor="",e.elem.setCustomValidity("")):(e.elem.style.borderColor="#ff6666",e.elem.setCustomValidity(t[1]))},!1)})}Object.defineProperty(t,"__esModule",{value:!0}),t._pattern=_pattern},function(e,t,r){"use strict";function _if(e){var t=this;e.forEach(function(e){var r=e.attr,o=r.replace(/ +/g,"").split("&&");o=o.map(function(e){var r=!1;if("!"===e[0]&&(e=e.substring(1),r=!0),e.indexOf("==")>-1){var n=e.replace(/ +/g,"").split("==");t.getComponentVariable(n[0].split("."));return!!n[1]}var o=e.split("."),i=t.getComponentVariable(o);return i=r?!i:i,!!i}),o.filter(function(e){return e}).length===o.length?e.elem.parentNode||n.Utils.insertAfter(e.cached,e.comment):e.elem.remove()})}Object.defineProperty(t,"__esModule",{value:!0}),t._if=_if;var n=r(1)},function(e,t){"use strict";function _class(e,t){var r=this;e.forEach(function(e){var n=e.attr.split(","),o=e.elem;n.forEach(function(n){if("@"!==n[0]){var i=!1,a=n.replace(/ +/g,"").split(":");"!"===a[1][0]&&(a[1]=a[1].substring(1),i=!0);var s=a[0],l=a[1].split("."),u=r.getComponentVariable(l,t);u=i?!u:u,u?o.classList.add(s):o.classList.remove(s)}else{var c=n.split("@"),f=c[1].split("."),h=r.getComponentVariable(f,t);e.prev&&o.classList.remove(e.prev),e.prev=h,o.classList.add(h)}})})}Object.defineProperty(t,"__esModule",{value:!0}),t._class=_class},function(e,t){"use strict";function _elRef(e){var t=this;e.forEach(function(e){var r=e.attr;t.ui[r]=e.elem})}Object.defineProperty(t,"__esModule",{value:!0}),t._elRef=_elRef},function(e,t,r){"use strict";function _for(e,t){var r=this;e.length&&e.forEach(function(i){var a=i.elem.localName;if(e=r.getComponentVariable(i.attr.split("."),t)||[],n.Utils.isCustomElement(i.elem)){if(i.cached.length!==e.length){i.items.forEach(function(e){e.remove()}),i.items=[];for(var s=0;s<=e.length-1;s++){window.temporaryObj=Object.assign({},e[s]);var l=document.createElement(a);i.items.push(l),i.parent.insertBefore(l,i.comment)}}i.items.forEach(function(t,r){if(JSON.stringify(i.cached[r])!==JSON.stringify(e[r])){if(!t.COMPONENT)return void console.warn("Please create component with name "+a);t.COMPONENT.props.set(e[r])}t.COMPONENT.onUpdate()}),i.cached=JSON.parse(JSON.stringify(e))}else{i.items.forEach(function(e){e.remove()}),i.items=[];for(var u=0;u<=e.length-1;u++){var c=i.elem.cloneNode(!0);c.removeAttribute("frameworkFor"),i.items.push(c),i.parent.insertBefore(c,i.comment),forAttachForLoop.call(r,c,e[u]),o.Handlers.eventListeners.call(r,c,e[u]),bindClassForLoop.call(r,c,e[u]),styleUnitForLoop.call(r,c,e[u]),bindPropsToViewForLoop.call(r,c,e[u]),bindAttrsForLoop.call(r,c,e[u]),addLinksRefsForLoop.call(r,c,e[u])}}})}function addLinksRefsForLoop(e,t){var r=o.Handlers._init(e,"frameworkLink");o.Handlers._link.call(this,r,t)}function bindAttrsForLoop(e,t){var r=o.Handlers._init(e,"frameworkAttr");o.Handlers._attr.call(this,r,t)}function forAttachForLoop(e,t){var r=o.Handlers._init(e,"frameworkFor");o.Handlers._for.call(this,r,t)}function bindPropsToViewForLoop(e,t){var r=o.Handlers._init(e,"frameworkValue");o.Handlers._props.call(this,r,t)}function styleUnitForLoop(e,t){var r=o.Handlers._init(e,"frameworkStyle");o.Handlers._style.call(this,r,t)}function bindClassForLoop(e,t){var r=o.Handlers._init(e,"frameworkClass");o.Handlers._class.call(this,r,t)}Object.defineProperty(t,"__esModule",{value:!0}),t._for=_for;var n=r(1),o=r(8);r(16)},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _init(e,t,r){var n=r?o.default[r]:[],a=e.getAttribute(t);if(a&&!i.Utils.isCustomElement(e)){var s={elem:e,attr:a,items:[],parent:e.parentNode,cached:e};n.get?n.get(this).push(s):n.push(s),e.removeAttribute(t),"frameworkFor"===t&&elem.remove()}var l=!0,u=!1,c=void 0;try{for(var f,h=e.querySelectorAll("["+t+"]")[Symbol.iterator]();!(l=(f=h.next()).done);l=!0){var d=f.value,p=d.getAttribute(t);if("frameworkFor"===t&&d.querySelectorAll("[frameworkFor]").length){var v=!0,y=!1,m=void 0;try{for(var _,b=d.querySelectorAll("[frameworkFor]")[Symbol.iterator]();!(v=(_=b.next()).done);v=!0){var g=_.value;g.setAttribute("frameworkInnerLoop",!0)}}catch(e){y=!0,m=e}finally{try{!v&&b.return&&b.return()}finally{if(y)throw m}}}if("frameworkFor"===t&&d.getAttribute("frameworkInnerLoop"))return void d.removeAttribute("frameworkInnerLoop");var k={elem:d,attr:p,comment:i.Utils.insertAfter(document.createComment(t+": "+p),d),items:[],parent:d.parentNode,cached:d};n.get?n.get(this).push(k):n.push(k),d.removeAttribute(t),"frameworkFor"===t&&d.remove()}}catch(e){u=!0,c=e}finally{try{!l&&h.return&&h.return()}finally{if(u)throw c}}return n}Object.defineProperty(t,"__esModule",{value:!0}),t._init=_init;var n=r(7),o=_interopRequireDefault(n),i=r(1)},function(e,t){"use strict";function _model(e){var t=this;e.forEach(function(e){var r=e.attr.split(".");e.elem.addEventListener("keyup",function(e){var n=e.currentTarget.value;t.props.set(r[r.length-1],n)},!1),"checkbox"!==e.elem.type&&"radio"!==e.elem.type||e.elem.addEventListener("change",function(r){var n=e.attr.split("."),o=n[n.length-1];n.splice(-1,1);var i=n.reduce(function(e,t){return e[t]},t);i[o]="radio"===e.elem.type?r.currentTarget.value:r.currentTarget.checked,t.props._callAll()},!1),e.elem.addEventListener("modelChange",function(e){t.props.set(r[r.length-1],e.detail)},!1)})}Object.defineProperty(t,"__esModule",{value:!0}),t._model=_model},function(e,t){"use strict";function _attr(e,t){var r=this;e.forEach(function(e){var n=e.attr.split(",");n.forEach(function(n){var o=n.replace(/ +/g,"").split(":"),i=o[0],a=o[1].split("."),s=r.getComponentVariable(a,t);s?e.elem.setAttribute(i,s):e.elem.removeAttribute(i)})})}Object.defineProperty(t,"__esModule",{value:!0}),t._attr=_attr},function(e,t){"use strict";function _input(e){var t=this;e.forEach(function(e){var r=e.attr.replace(/ +/g,"").split(","),n={};r.forEach(function(e){var r=e.split(":")[0],o=e.split(":")[1].split(".");n[r]=t.getComponentVariable(o)}),e.elem.COMPONENT.INPUT(n)})}Object.defineProperty(t,"__esModule",{value:!0}),t._input=_input},function(e,t,r){"use strict";function _link(e,t){var r=this;e.forEach(function(e){var o=getRoute.call(r,e,t);e.elem.addEventListener("click",function(e){e.preventDefault(),n.Router.navigate(o)},!1),e.elem.setAttribute("href",o||"/")})}function getRoute(e,t){var r="",n=e.attr.split(".");return"@"===n[0][0]?(n[0]=n[0].substr(1),r=this.getComponentVariable(n,t)):r=e.attr,r}Object.defineProperty(t,"__esModule",{value:!0}),t._link=_link;var n=r(1)},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function eventUnitCore(e,t,r){var n=this,i=e.getAttribute("framework"+t);e.removeAttribute("framework"+t);var a=i.replace(/ +/g,"").split(":"),s=a[0],l={fnName:s,event:t,el:e,f:function(e){e.preventDefault(),n[s]?n[s].call(n,e,a[1]||r):console.warn("You have no function in your component")}};o.default._eventsArray.get(this).push(l),l.el.addEventListener(l.event.toLowerCase(),l.f,!1)}function eventListeners(e,t){var r=this;a.default.forEach(function(n){var o=e.querySelectorAll("[framework"+n+"]");e.getAttribute("framework"+n)&&eventUnitCore.call(r,e,n,t);var i=!0,a=!1,s=void 0;try{for(var l,u=o[Symbol.iterator]();!(i=(l=u.next()).done);i=!0){var c=l.value;eventUnitCore.call(r,c,n,t)}}catch(e){a=!0,s=e}finally{try{!i&&u.return&&u.return()}finally{if(a)throw s}}})}function removeEventListeners(e){e.forEach(function(e,t){e.el.removeEventListener(e.event,e.f,!1)})}Object.defineProperty(t,"__esModule",{value:!0}),t.eventUnitCore=eventUnitCore,t.eventListeners=eventListeners,t.removeEventListeners=removeEventListeners;var n=r(7),o=_interopRequireDefault(n),i=r(22),a=_interopRequireDefault(i)},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=["Click","Keyup","Change","Mouseover","Mouseout","MouseDown","MouseUp","Scroll","Mousewheel","Submit","Focus","Blur"];t.default=r},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _outside(e){var t=this;e.forEach(function(e){var r=e.attr;o.default._globalEvents.set(t,i.GlobalEvents.onClick(function(n){var o=t.shadow?e.elem.contains(n.path[0]):e.elem.contains(n.target);o||t[r].call(t,n)},e))})}Object.defineProperty(t,"__esModule",{value:!0}),t._outside=_outside;var n=r(7),o=_interopRequireDefault(n),i=r(1)},function(e,t){"use strict";function _hostEvents(e){for(var t in e){var r=this[e[t]].bind(this);this.root.addEventListener(t,r,!1)}}function _hostClasses(e){for(var t in e){var r=e[t],n=!1;"!"===r[0]&&(r=r.substr(1),n=!0);var o=this.getComponentVariable(r.split("."));o=n?!o:o,o?this.root.classList.add(t):this.root.classList.remove(t)}}function _hostStyles(e){for(var t in e)if("string"==typeof e[t].value){var r=this.getComponentVariable(e[t].value.split("."));this.root.style[t]=r+e[t].suffix}else this.root.style[t]=e[t].value+e[t].preffix}Object.defineProperty(t,"__esModule",{value:!0}),t._hostEvents=_hostEvents,t._hostClasses=_hostClasses,t._hostStyles=_hostStyles},function(e,t){"use strict";function TemplateEngine(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("string"==typeof t&&(e=e.replaceAll("{{this}}",t?t:"")),"object"===("undefined"==typeof t?"undefined":r(t)))for(var n in t)e=e.replaceAll("{{"+n+"}}",t[n]);return e}Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.TemplateEngine=TemplateEngine,String.prototype.replaceAll=function(e,t){return this.split(e).join(t)}},function(e,t){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),n=function(){function GlobalEvents(){var e=this;_classCallCheck(this,GlobalEvents),this.lId=0,this.clicksArray=[],window.addEventListener("click",function(t){e.clicksArray.forEach(function(r){return r.cb.call(e,t)})},!1)}return r(GlobalEvents,[{key:"onClick",value:function(e,t){var r=this,n=Number(this.lId++),o={cb:e,id:n,unsubscribe:function(){r.unsubscribe(n,t)}};return this.clicksArray.push(o),o}},{key:"unsubscribe",value:function(e,t){this.clicksArray=this.clicksArray.filter(function(t){var r=t.id!==e;return r})}}]),GlobalEvents}();t.default=new n},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=[],n={serialize:function(e){for(var t={},r=e.querySelectorAll("input, select, textarea"),n=0;n<r.length;++n){var o=r[n],i=o.name,a=o.value;i&&(t[i]=a)}return t},randomInteger:function(e,t){var r=e-.5+Math.random()*(t-e+1);return r=Math.round(r)},addDays:function(e,t){var r=new Date(e.getTime());return new Date(r.setDate(r.getDate()+t))},getDateByFormat:function(e,t){var r="";e=new Date(e);var n=e.getFullYear().toString(),o=1===(e.getMonth()+1).toString().length?"0"+(e.getMonth()+1):e.getMonth()+1,i=1===e.getDate().toString().length?"0"+e.getDate():e.getDate(),a=1===e.getHours().toString().length?"0"+e.getHours():e.getHours(),s=1===e.getMinutes().toString().length?"0"+e.getMinutes():e.getMinutes();switch(t){case"yyyy-mm-dd":r=n+"-"+o+"-"+i;break;case"yyyymmdd":r=n+o+i;break;case"yyyy/mm/dd":r=n+"/"+o+"/"+i;break;case"yyyy-mm-dd hh:mm":r=n+"-"+o+"-"+i+" "+a+":"+s;break;case"hh:mm":r=a+":"+s;break;case"dd.mm.yyyy":r=i+"."+o+"."+n}return r},getDaysBetweenDates:function(e,t){e=new Date(e),t=new Date(t);var r=Date.UTC(t.getFullYear(),t.getMonth(),t.getDate()),n=Date.UTC(e.getFullYear(),e.getMonth(),e.getDate());return Math.floor(Math.abs(r-n)/864e5)},closest:function(e,t){var r=0,n=1e3,o=void 0;for(r in e){var i=Math.abs(t-e[r]);i<n&&(n=i,o=e[r])}return o},insertAfter:function(e,t){var r=t.parentNode,n=t.nextSibling;return n?r.insertBefore(e,n):r.appendChild(e)},isCustomElement:function(e){if(e.tagName.indexOf("-")!==-1)return!0;var t=e.getAttribute("is");return null!==t&&t.indexOf("-")!==-1},changeSortingId:function(e,t){return e.map(function(e){return e.active=e.id===t.id,e})},sorting:function(e,t,r){if(r)alert(2),e.reverse();else switch(t.type){case"string":e.sort(function(e,r){return e[t.id]>r[t.id]?-1:1})}return e},scrollTop:function(e,t,r){this.scrollTo("top",e,t,r)},scrollLeft:function(e,t,r){this.scrollTo("left",e,t,r)},scrollTo:function(e,t,n,o){if(0===r.filter(function(e){return e.isEqualNode(t)}).length){r.push(t);var i="left"===e?t.scrollLeft:t.scrollTop,a=n-i,s=0,l=20;this.animateScroll({direction:e,element:t,increment:l,currentTime:s,change:a,start:i,duration:o})}},animateScroll:function(e){var t=this;e.currentTime+=e.increment,"left"===e.direction&&(e.element.scrollLeft=this.easeInOutQuad(e.currentTime,e.start,e.change,e.duration)),"top"===e.direction&&(e.element.scrollTop=this.easeInOutQuad(e.currentTime,e.start,e.change,e.duration)),e.currentTime<e.duration?setTimeout(function(){t.animateScroll(e)},e.increment):r.forEach(function(t,n){t.isEqualNode(e.element)&&r.splice(n,1)})},easeInOutQuad:function(e,t,r,n){return e/=n/2,e<1?r/2*e*e+t:(e--,-r/2*(e*(e-2)-1)+t)}};t.Utils=n},function(e,t,r){"use strict";function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0
}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.Http=t.Collection=t.Model=t.server=void 0;var n=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),o=r(2),i=["get","post","put","delete"],a=t.server="http://tripsee-app.ace-st.com",s=t.Model=function(){function Model(e){_classCallCheck(this,Model),this.links={},this.data=e.data,this.collection=null}return n(Model,[{key:"remove",value:function(){this.collection.remove(this)}},{key:"set",value:function(e,t){this.data[e]=t}},{key:"get",value:function(e){return this.data[e]}}]),Model}(),l=t.Collection=function(){function Collection(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];_classCallCheck(this,Collection),this.links={},this.models=t.map(function(t){return t.collection=e,t})}return n(Collection,[{key:"first",value:function(){return this.models[0]?this.models[0]:null}},{key:"add",value:function(e){this.models.push(e)}},{key:"unshift",value:function(e){this.models.unshift(e)}},{key:"remove",value:function(e){var t=this;this.models.forEach(function(r,n){e===r&&t.models.splice(n,1)})}},{key:"find",value:function(e){var t=this.models.filter(function(t){return t.data._id==e})[0];return t}},{key:"findBy",value:function(e,t){return this.models.filter(function(r){return r.data[e]==t})[0]||{}}},{key:"findAllBy",value:function(e,t){return this.models.filter(function(r){return r.data[e]==t})||[]}}]),Collection}(),u=function(){function HttpFetcher(){_classCallCheck(this,HttpFetcher)}return n(HttpFetcher,[{key:"get",value:function(e){return this.request("get",e)}},{key:"post",value:function(e){return this.request("post",e)}},{key:"put",value:function(e){return this.request("put",e)}},{key:"delete",value:function(e){return this.request("delete",e)}},{key:"request",value:function(e,t){return fetch(t,{method:e})}}]),HttpFetcher}(),c=function(){function HttpModule(){_classCallCheck(this,HttpModule),this.http=new u,this.catalog=new o.SmartObject}return n(HttpModule,[{key:"get",value:function(){var e=this;this.http.get(a+"/catalog").then(function(e){return e.json()}).then(function(t){e.catalog.set({entry:e.getModel(t)})})}},{key:"getModel",value:function(e){var t=this,r=function(r){function FactoryModel(r){_classCallCheck(this,FactoryModel);var n=_possibleConstructorReturn(this,(FactoryModel.__proto__||Object.getPrototypeOf(FactoryModel)).call(this,r));return e.links&&e.links.map(function(e){n.links[""+e.rel]=e.href,i.forEach(function(r){e.href&&(n[r+"_"+e.rel]=function(n,o){return t.makeRequest(r,e.href,n,o)})})}),n}return _inherits(FactoryModel,r),FactoryModel}(s);return new r(e)}},{key:"getCollection",value:function(e){var t=this,r=e.map(function(e){return t.getModel(e)}),n=function(e){function FactoryCollection(e){return _classCallCheck(this,FactoryCollection),_possibleConstructorReturn(this,(FactoryCollection.__proto__||Object.getPrototypeOf(FactoryCollection)).call(this,e))}return _inherits(FactoryCollection,e),FactoryCollection}(l);return new n(r)}},{key:"makeRequest",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=(arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",void 0),o=this;switch(e){case"get":var i=new URLSearchParams;for(var s in r)i.set(s,r[s]);n=this.middleware(this.http[e](a+t,{search:i,headers:o.getGetHeaders()}));break;case"post":n=this.middleware(this.http[e](a+t,r,this.getHeaders()));break;case"put":n=this.middleware(this.http[e](a+t,r,this.getHeaders()));break;case"delete":n=this.middleware(this.http[e](a+t,this.getHeaders()))}return n}},{key:"middleware",value:function(e){var t=this;return e.then(function(e){return e.json()}).then(function(e){return t.createEntity(e)}).catch(function(e){switch(e.status){case 406:break;case 422:break;case 404:break;case 500:case 502:}return null})}},{key:"getHeaders",value:function(){var e=new Headers,t=JSON.parse(localStorage.getItem("token"));return t&&e.append("Authorization","Bearer "+t),new RequestOptions({headers:e})}},{key:"getGetHeaders",value:function(){var e=new Headers;return e}},{key:"createEntity",value:function(e){var t=void 0;return e instanceof Array?e[0]&&e[0].data?t=this.getCollection(e):(t=new l,e.forEach(function(e){t.add({label:e,id:e})})):e.data&&(t=this.getModel(e)),t}}]),HttpModule}(),f=new c;t.Http=f},function(e,t){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}();t.Store=function(){function Store(){_classCallCheck(this,Store)}return r(Store,[{key:"init",value:function(){}}]),Store}()}])});